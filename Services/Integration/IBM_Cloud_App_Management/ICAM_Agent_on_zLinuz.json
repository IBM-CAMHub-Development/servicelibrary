{
    "service": {
      "specVersion": "v3",
      "catalog_metadata": {
        "name": "IBM Cloud App Management Integration Service on zVM guest",
        "description": "",
        "image": "serviceicon_1.svg",
        "category": "Integration Services",
        "bullets": [],
        "providerDisplayName": "IBM",
        "longDescription": "",
        "documentationUrl": "",
        "supportUrl": "",
        "bindable": false,
        "updatable": "",
        "systemTags": true,
        "author": "admin"
      },
      "tags": [
        {
          "name": "Request_Group",
          "label": "Request_Group",
          "type": "string",
          "immutable": true,
          "hidden": false,
          "required": false,
          "secured": false,
          "description": "The current context group id of the current user that requested the provisioning of the template. This is important because a user may be part of more than one group and this identifies the context of which group the user made the request.",
          "isSystemTag": true,
          "default": "${svc_instance.group}",
          "customtype": "string",
          "permission": "Read-Only"
        },
        {
          "name": "Request_User",
          "label": "Request_User",
          "type": "string",
          "immutable": true,
          "hidden": false,
          "required": false,
          "secured": false,
          "description": "The user id of the current user that requested the provisioning of the template.",
          "isSystemTag": true,
          "default": "${svc_instance.owner}",
          "customtype": "string",
          "permission": "Read-Only"
        },
        {
          "name": "Service_Name",
          "label": "Service_Name",
          "type": "string",
          "immutable": true,
          "hidden": false,
          "required": false,
          "secured": false,
          "description": "Name provided for the service instance by the end user at time of request",
          "isSystemTag": true,
          "default": "${svc_instance.name}",
          "customtype": "string",
          "permission": "Read-Only"
        },
        {
          "name": "Service_Identifier",
          "label": "Service_Identifier",
          "type": "string",
          "immutable": true,
          "hidden": false,
          "required": false,
          "secured": false,
          "description": "Unique identifer generated by ICAM which is mapped to the service instance of the template provisioned.",
          "isSystemTag": true,
          "default": "${svc_instance.service_instance_id}",
          "customtype": "string",
          "permission": "Read-Only"
        }
      ],
      "actions": [
        {
          "type": "provision",
          "name": "Provision",
          "description": "Default action for deployment of service",
          "input_parameters": [
            {
              "name": "openstack_image_id",
              "label": "OpenStack Image ID",
              "customtype": "string",
              "type": "string",
              "immutable": false,
              "hidden": false,
              "required": true,
              "secured": false
            },
            {
              "name": "openstack_flavor_id",
              "label": "OpenStack Instance Flavor ID",
              "customtype": "string",
              "type": "string",
              "immutable": false,
              "hidden": false,
              "required": true,
              "secured": false,
              "description": ""
            },
            {
              "name": "openstack_network_name",
              "label": "OpenStack Network Name",
              "customtype": "string",
              "type": "string",
              "immutable": false,
              "hidden": false,
              "required": true,
              "secured": false,
              "description": ""
            },
            {
              "name": "openstack_image_id_username",
              "label": "OpenStack Image Username",
              "customtype": "string",
              "type": "string",
              "immutable": false,
              "hidden": false,
              "required": true,
              "secured": false,
              "description": ""
            },
            {
              "name": "openstack_key_pair_name",
              "label": "OpenStack Instance Public Key Name",
              "customtype": "string",
              "type": "string",
              "immutable": false,
              "hidden": false,
              "required": true,
              "secured": false,
              "description": ""
            },
            {
              "name": "openstack_instance_name",
              "label": "OpenStack Instance Name",
              "customtype": "string",
              "type": "string",
              "immutable": false,
              "hidden": false,
              "required": true,
              "secured": false,
              "description": ""
            },
            {
              "name": "openstack_instance_private_key",
              "label": "OpenStack Instance Private Key (base64 encoded)",
              "customtype": "password",
              "type": "password",
              "immutable": false,
              "hidden": false,
              "required": true,
              "secured": true,
              "description": "",
              "default": ""
            }
          ],
          "flow": {
            "conditions": [],
            "templates": [
              {
                "OpenStack Single Virtual Machine": {
                  "title": "OpenStack Single Virtual Machine_9b9236",
                  "template_name": "OpenStack Single Virtual Machine",
                  "version": "2.3",
                  "id": "openstac852901d5",
                  "template_type": "Terraform",
                  "template_content_type": "OpenStack",
                  "template_provider": "OpenStack",
                  "instance_name": "",
                  "cloud_connection_name": "OpenStack",
                  "template_data_objects": {},
                  "template_params": {
                    "openstack_image_id": "${input_parameters.openstack_image_id}",
                    "openstack_flavor_id": "${input_parameters.openstack_flavor_id}",
                    "openstack_network_name": "${input_parameters.openstack_network_name}",
                    "image_id_username": "${input_parameters.openstack_image_id_username}",
                    "image_id_password": "",
                    "instance_name": "${input_parameters.openstack_instance_name}",
                    "key_pair_name": "${input_parameters.openstack_key_pair_name}"
                  },
                  "outputs": [
                    "single-vm-ip",
                    "stack_id"
                  ]
                }
              },
              {
                "IBM Cloud App Management Agent Installation Template": {
                  "title": "IBM Cloud App Management Agent Installation Template_b3a83b",
                  "template_name": "IBM Cloud App Management Agent Installation Template",
                  "version": "2.2",
                  "id": "ibmcloudd19aa81d",
                  "template_type": "Terraform",
                  "template_content_type": "Integration",
                  "template_provider": "Other",
                  "instance_name": "",
                  "cloud_connection_name": "Other",
                  "template_data_objects": {
                    "icam_agent": "",
                    "bastionhost": "DefaultNoBastionHostRequired"
                  },
                  "template_params": {
                    "ip_address": "${templates.openstac852901d5.output.single-vm-ip}",
                    "user": "root",
                    "password": "",
                    "private_key": "${input_parameters.openstack_instance_private_key}"
                  },
                  "outputs": [
                    "icam_server_url"
                  ]
                }
              }
            ],
            "resthooks": [],
            "notifications": [],
            "sequence": {
              "0": "openstac852901d5",
              "1": "ibmcloudd19aa81d"
            },
            "error_sequence": {}
          },
          "output_parameters": []
        }
      ],
      "plans": [
        {
          "name": "generic",
          "description": "Generic plan that requires user input",
          "actions": [],
          "plan_parameters": [
            {
              "name": "openstack_image_id",
              "label": "OpenStack Image ID",
              "customtype": "string",
              "type": "string",
              "immutable": false,
              "hidden": false,
              "required": true,
              "secured": false,
              "default": ""
            },
            {
              "name": "openstack_flavor_id",
              "label": "OpenStack Instance Flavor ID",
              "customtype": "string",
              "type": "string",
              "immutable": false,
              "hidden": false,
              "required": true,
              "secured": false,
              "description": "",
              "default": ""
            },
            {
              "name": "openstack_network_name",
              "label": "OpenStack Network Name",
              "customtype": "string",
              "type": "string",
              "immutable": false,
              "hidden": false,
              "required": true,
              "secured": false,
              "description": "",
              "default": ""
            },
            {
              "name": "openstack_image_id_username",
              "label": "OpenStack Image Username",
              "customtype": "string",
              "type": "string",
              "immutable": false,
              "hidden": false,
              "required": true,
              "secured": false,
              "description": "",
              "default": "root"
            },
            {
              "name": "openstack_key_pair_name",
              "label": "OpenStack Instance Public Key Name",
              "customtype": "string",
              "type": "string",
              "immutable": false,
              "hidden": false,
              "required": true,
              "secured": false,
              "description": "",
              "default": ""
            },
            {
              "name": "openstack_instance_name",
              "label": "OpenStack Instance Name",
              "customtype": "string",
              "type": "string",
              "immutable": false,
              "hidden": false,
              "required": true,
              "secured": false,
              "description": "",
              "default": "icam-on-zvm"
            },
            {
              "name": "openstack_instance_private_key",
              "label": "OpenStack Instance Private Key (base64 encoded)",
              "customtype": "password",
              "type": "password",
              "immutable": false,
              "hidden": false,
              "required": true,
              "secured": true,
              "description": "",
              "default": ""
            }
          ]
        }
      ]
    }
  }